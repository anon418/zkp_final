# 📊 ZKP 기반 익명 투표 플랫폼 - PPT 슬라이드 구성

> PPT 제작용 핵심 내용만 정리 (멘트 제거)

---

## 📋 슬라이드 구성 (15장)

### 슬라이드 1: 표지

```
┌─────────────────────────────────────┐
│                                     │
│   ZKP 기반 익명 투표 플랫폼          │
│                                     │
│   운영자도 조작할 수 없는            │
│   완전 투명한 투표 시스템            │
│                                     │
│   [팀명]                           │
│   [날짜]                           │
└─────────────────────────────────────┘
```

---

### 슬라이드 2: 기존 투표 시스템의 문제점

**제목**: "왜 기존 투표 시스템은 신뢰할 수 없을까?"

**비교표**:

| 시스템       | 익명성          | 검증 가능성      | 조작 불가능성       |
| ------------ | --------------- | ---------------- | ------------------- |
| Google Forms | ⚠️ IP 로그 남음 | ❌ 관리자만 확인 | ❌ 관리자 조작 가능 |
| 일반 투표 앱 | ⚠️ 서버 로그    | ❌ 믿어야 함     | ❌ 서버 조작 가능   |
| **VoteZK**   | ✅ 완전 익명    | ✅ 누구나 검증   | ✅ 수학적 보장      |

**핵심 문제점**:

- 익명성 문제: IP 주소, 접속 시간이 서버에 남음
- 검증 불가능: 관리자가 결과를 바꿔도 알 수 없음
- 조작 가능성: 서버 관리자가 원하는 결과로 조작 가능

---

### 슬라이드 3: 왜 ZKP가 필요한가?

**제목**: "Zero-Knowledge Proof란?"

**핵심 개념**:

```
일반 투표:
"나는 A 후보를 선택했습니다" → 서버가 알 수 있음 ❌

ZKP 투표:
"나는 유효한 투표를 했고, 자격이 있으며, 중복 투표가 아닙니다"
→ 하지만 누구를 선택했는지는 알 수 없음 ✅
```

**3가지 핵심 보장**:

1. ✅ **자격 증명**: "투표할 권리가 있는 사람입니다"
2. ✅ **중복 방지**: "이미 투표한 사람은 다시 투표할 수 없습니다"
3. ✅ **익명성**: "누구를 선택했는지는 알 수 없습니다"

**기술적 특징**:

- 수학적으로 증명하되, 실제 선택 내용은 숨김
- 블록체인에 기록되어 누구나 검증 가능

---

### 슬라이드 4: VoteZK의 핵심 가치

**제목**: "VoteZK가 해결하는 것"

**3가지 핵심 가치**:

#### 🔒 1. 운영자를 믿지 않아도 됨

- 블록체인에 기록 → 수학적으로 조작 불가능
- Etherscan에서 누구나 직접 확인 가능

#### 🎭 2. 완전한 익명성

- Zero-Knowledge Proof로 서버도 모름
- IP 주소, 접속 시간 등 로그 없음

#### ⛓️ 3. 영구 검증 가능

- Sepolia 블록체인에 영구 기록
- 언제든지 재검증 가능

---

### 슬라이드 5: 시스템 아키텍처 개요

**제목**: "VoteZK 시스템 구조"

**다이어그램**:

```
┌─────────────┐
│   사용자    │
│  (브라우저)  │
└──────┬──────┘
       │
       ▼
┌─────────────────────────────────┐
│      프론트엔드 (Next.js)        │
│  - React UI                      │
│  - Web Worker (ZKP 증명 생성)    │
│  - MetaMask 연동                 │
└──────┬───────────────────────────┘
       │
       ▼
┌─────────────────────────────────┐
│      백엔드 (Next.js API)         │
│  - 투표 생성/조회                 │
│  - Relayer (가스 대납)           │
│  - MongoDB (캐시/집계)           │
└──────┬───────────────────────────┘
       │
       ▼
┌─────────────────────────────────┐
│      블록체인 (Sepolia)          │
│  - VotingV2 컨트랙트             │
│  - Groth16Verifier               │
│  - 영구 기록                      │
└─────────────────────────────────┘
```

**각 계층 역할**:

- **프론트엔드**: 사용자가 직접 ZKP 증명 생성 (15초)
- **백엔드**: 투표 데이터 관리 및 Relayer 역할
- **블록체인**: 영구 기록 및 검증

---

### 슬라이드 6: 기술 스택

**제목**: "사용 기술 및 도구"

**카테고리별 정리**:

#### 프론트엔드

- **Next.js 15**: React 프레임워크
- **TypeScript**: 타입 안정성
- **Web Worker**: ZKP 증명 생성 (비동기)

#### ZKP (Zero-Knowledge Proof)

- **Circom**: ZKP 회로 설계
- **snarkjs**: Groth16 증명 생성
- **Poseidon Hash**: 암호화 해시 함수

#### 블록체인

- **Solidity**: 스마트 컨트랙트
- **Ethers.js**: 블록체인 연동
- **Sepolia Testnet**: 테스트 네트워크

#### 백엔드

- **MongoDB**: 데이터베이스
- **Next.js API Routes**: 서버 로직

---

### 슬라이드 7: 투표 생성 플로우

**제목**: "관리자가 투표를 만드는 방법"

**단계별 설명**:

```
1. 지갑 연결 (MetaMask)
   ↓
2. 투표 정보 입력
   - 제목, 설명
   - 후보 목록 (템플릿 지원)
   - 마감 시간 (10분~30일)
   ↓
3. 투표 생성
   ↓
4. QR 코드 자동 생성
   ↓
5. 참여자에게 공유
```

**주요 기능**:

- 템플릿 기반 빠른 생성 (6종)
- QR 코드 자동 생성
- 링크 공유 가능

---

### 슬라이드 8: ZKP 증명 생성 과정

**제목**: "투표자가 ZKP 증명을 만드는 과정"

**핵심 과정** (15초 소요):

```
1. 후보 선택
   ↓
2. ZKP 증명 생성 (Web Worker)
   - nullifierSecret 생성
   - Merkle Proof 생성
   - Groth16 Proof 생성
   ↓
3. Public Signals 추출
   - Merkle Root
   - Poll ID
   - Nullifier (중복 방지)
   - Vote Commitment (암호화된 투표)
   ↓
4. Proof + Public Signals 준비 완료
```

**기술적 세부사항**:

- 15초 동안 1300개의 제약조건 계산
- 투표 내용은 Vote Commitment로 암호화되어 공개되지 않음
- Nullifier로 중복 투표 방지

---

### 슬라이드 9: 블록체인 검증

**제목**: "블록체인에서 검증하는 방법"

**검증 과정**:

```
1. Relayer가 Proof를 블록체인에 제출
   (사용자 가스비 0원)
   ↓
2. Groth16Verifier.verifyProof() 호출
   - Proof 유효성 검증
   - Public Signals 검증
   ↓
3. VotingV2.vote() 실행
   - Nullifier 중복 체크
   - Vote Commitment 저장
   - 재투표 시 마지막 표만 유효
   ↓
4. 트랜잭션 완료 (2회 컨펌)
   - Etherscan에 기록
   - 누구나 확인 가능
```

**핵심 특징**:

- 스마트 컨트랙트가 수학적으로 Proof를 검증
- 검증 성공 시에만 투표가 기록됨
- Etherscan에서 직접 확인 가능
- Relayer가 가스비 대납 (사용자 무료)

---

### 슬라이드 10: 실시간 결과 집계

**제목**: "투표 결과를 실시간으로 확인"

**기능**:

- 실시간 득표수 표시
- 후보별 비율 차트
- 참여자 수 표시
- 재투표 정책: 마지막 투표만 집계

**검증 가능성**:

- 결과는 MongoDB에서 집계하지만, 블록체인에서 재검증 가능
- Etherscan에서 직접 세어볼 수 있음
- DB는 캐시 역할, 온체인이 원본

---

### 슬라이드 11: 익명성 보장 메커니즘

**제목**: "왜 익명성이 보장되는가?"

**3가지 보호 계층**:

#### 1. ZKP Proof

- 투표 내용이 Proof에 포함되지 않음
- Vote Commitment로 암호화

#### 2. Nullifier

- 중복 방지용 해시값
- 실제 신원과 연결 불가능
- pollId별로 독립적 (선거별 1인 1표)

#### 3. 블록체인 기록

- 투표 내용 없이 유효성만 기록
- Etherscan에서도 선택 내용 확인 불가

---

### 슬라이드 12: 검증 가능성 (Etherscan)

**제목**: "누구나 검증할 수 있다"

**검증 방법**:

1. **Etherscan에서 확인**:

   - 트랜잭션 해시로 검색
   - "Logs" 탭에서 `VoteCast` 이벤트 확인
   - `nullifier`, `pollId`, `isUpdate` 확인

2. **재집계 가능**:
   - 모든 `VoteCast` 이벤트 수집
   - 중복 체크 (`nullifier` 유니크)
   - 결과 재계산

**재투표 확인**:

- `isUpdate: True` → 재투표
- 같은 `nullifier`로 여러 이벤트가 있어도 마지막 것만 유효
- 총 투표 수는 증가하지 않음

---

### 슬라이드 13: 기존 시스템과의 비교

**제목**: "VoteZK vs 기존 시스템"

**비교표**:

| 항목        | Google Forms | 일반 투표 앱 | **VoteZK**          |
| ----------- | ------------ | ------------ | ------------------- |
| 익명성      | ⚠️ IP 로그   | ⚠️ 서버 로그 | ✅ 완전 익명        |
| 검증 가능성 | ❌ 불가능    | ❌ 불가능    | ✅ Etherscan        |
| 조작 방지   | ❌ 가능      | ❌ 가능      | ✅ 수학적 보장      |
| 투명성      | ❌ 낮음      | ❌ 낮음      | ✅ 높음             |
| 비용        | 무료         | 무료         | Sepolia (무료)      |
| 재투표      | ❌ 불가      | ❌ 불가      | ✅ 마지막 표만 유효 |

---

### 슬라이드 14: 프로젝트 성과

**제목**: "프로젝트 성과 및 특징"

**주요 성과**:

1. ✅ **완전한 익명성 보장**

   - ZKP로 투표 내용 완전 비공개
   - 서버도 모름

2. ✅ **검증 가능한 투명성**

   - Etherscan에서 누구나 확인
   - 재집계 가능

3. ✅ **조작 불가능성**

   - 블록체인에 영구 기록
   - 수학적으로 보장

4. ✅ **사용자 친화적 UI**

   - QR 코드로 간편 참여
   - 실시간 결과 확인
   - 모바일 지원

5. ✅ **재투표 지원**
   - 마감 시간 전까지 재투표 가능
   - 마지막 투표만 집계

**기술적 성과**:

- Groth16 ZKP 증명 시스템 구현
- 블록체인 기반 검증 시스템
- Web Worker를 통한 비동기 증명 생성
- Relayer 패턴으로 UX 개선

**주요 기능**:

- 템플릿 기반 투표 생성 (6종)
- QR 코드 자동 생성 및 공유
- 실시간 결과 집계
- CSV 내보내기
- 통계 대시보드
- Etherscan 검증 링크

---

### 슬라이드 15: 향후 계획 및 Q&A

**제목**: "향후 계획"

**개선 계획**:

1. **Closed Poll 지원**

   - 화이트리스트 기능
   - 신원 검증 연동

2. **성능 최적화**

   - ZKP 증명 생성 시간 단축
   - 서버 오프로딩 옵션

3. **다른 네트워크 지원**

   - Polygon, Arbitrum 등

4. **추가 기능**
   - 투표 기간 연장
   - 투표 결과 공개 시점 설정

---

## 🎬 시연 가이드 (5분)

### 시연 전 준비사항

1. ✅ Vercel 배포 완료 (또는 로컬 서버 실행)
2. ✅ MetaMask 설치 및 Sepolia 네트워크 설정
3. ✅ Sepolia 테스트넷 ETH 보유 (Relayer용)
4. ✅ Etherscan 링크 준비 (이전 투표 트랜잭션)

### 시연 1: 투표 생성 (30초)

**화면에서 보여줄 것**:

1. 메인 페이지 → "투표 만들기" 버튼 클릭
2. MetaMask 연결 (Sepolia 네트워크 확인)
3. 템플릿 선택 (예: "학과 회장 선거")
4. 제목/설명 입력
5. 후보 입력 (예: "김철수", "이영희")
6. 마감 시간 설정 (예: 1시간)
7. "투표 생성하기" 클릭
8. **QR 코드 화면 표시** → "이 QR 코드를 스캔하면 바로 투표 페이지로 이동합니다"

**발표 멘트**:

- "관리자는 이렇게 간단하게 투표를 만들 수 있습니다"
- "QR 코드를 생성하면 참여자에게 공유할 수 있습니다"

---

### 시연 2: 투표 참여 - ZKP 증명 생성 (1분 30초)

**화면에서 보여줄 것**:

1. QR 코드 스캔 또는 링크 접속
2. 투표 상세 페이지 표시
3. MetaMask 연결 (참여자 계정)
4. 후보 선택 (예: "김철수")
5. **"Generate Proof" 버튼 클릭**
   - ⏱️ "ZKP 증명 생성 중... (15초 소요)" 메시지 표시
   - 진행 상태 표시
6. 증명 생성 완료 후 "Submit" 버튼 활성화
7. "Submit" 클릭
8. **상태 배지 변화 표시**:
   - "제출 중" → "검증 중" → "영수증 (Conf=2)"
9. **영수증 화면 표시**:
   - 트랜잭션 해시
   - Public Signals (Merkle Root, Poll ID, Nullifier, Vote Commitment)
   - Etherscan 링크

**발표 멘트**:

- "지금 15초 동안 1300개의 제약조건을 계산하여 ZKP 증명을 생성하고 있습니다"
- "증명이 생성되면 Relayer가 가스비를 대납하여 블록체인에 제출합니다"
- "사용자는 가스비를 내지 않아도 됩니다"

---

### 시연 3: Etherscan 검증 (1분)

**화면에서 보여줄 것**:

1. 영수증의 "Etherscan에서 확인" 버튼 클릭
2. Etherscan 트랜잭션 페이지 열기
3. **"Overview" 탭**:
   - "Status: Success" 확인
   - "To: VotingV2 Contract" 확인
4. **"Logs" 탭 클릭**:
   - `VoteCast` 이벤트 찾기
   - Decoded 데이터 표시:
     - `pollId`: 투표 ID
     - `nullifier`: 중복 방지 해시값
     - `candidate`: 선택한 후보 ID (숫자)
     - `isUpdate: False` (첫 투표)
5. **"Events" 탭** (선택):
   - `ProofVerified` 이벤트 확인 (디코딩되지 않을 수 있음)

**발표 멘트**:

- "여기서 누구나 이 투표가 유효하다는 것을 확인할 수 있습니다"
- "하지만 실제로 누구를 선택했는지는 `candidate` 숫자로만 표시되고, 후보 이름은 보이지 않습니다"
- "이것이 ZKP의 핵심입니다: 유효성은 증명하되, 선택 내용은 비공개입니다"

---

### 시연 4: 재투표 및 마지막 표만 유효 (1분)

**화면에서 보여줄 것**:

1. 같은 계정으로 다시 투표 페이지 접속
2. 다른 후보 선택 (예: "이영희")
3. "Generate Proof" → "Submit"
4. **영수증 화면**:
   - "재투표 완료! 마지막 투표만 유효합니다" 메시지
5. Etherscan 링크 클릭
6. **"Logs" 탭**:
   - `VoteCast` 이벤트에서 `isUpdate: True` 확인
   - 같은 `nullifier` 값 확인
   - `candidate` 값이 변경되었는지 확인
7. **투표 결과 페이지**:
   - 이전 선택이 사라지고 최신 선택만 반영
   - 총 투표 수는 증가하지 않음

**발표 멘트**:

- "재투표를 하면 `isUpdate: True`로 표시됩니다"
- "같은 `nullifier`로 여러 번 투표해도 마지막 것만 유효합니다"
- "총 투표 수는 증가하지 않습니다 (재투표이므로)"

---

### 시연 5: 실시간 결과 확인 (30초)

**화면에서 보여줄 것**:

1. 투표 결과 페이지 접속
2. 실시간 득표수 표시
3. 후보별 비율 차트
4. 참여자 수 표시
5. "Etherscan에서 검증" 버튼 클릭
6. Etherscan에서 모든 `VoteCast` 이벤트 확인

**발표 멘트**:

- "결과는 실시간으로 업데이트됩니다"
- "이 결과는 Etherscan에서 직접 세어볼 수 있어서 검증 가능합니다"
- "DB는 캐시 역할이고, 온체인이 원본입니다"

---

## 📊 시각 자료 권장사항

### 1. 다이어그램

- 시스템 아키텍처: 간단하고 명확하게
- ZKP 증명 과정: 단계별 플로우차트
- 비교표: 표 형식으로 명확하게

### 2. 스크린샷 (필수)

- **투표 생성 화면**: 템플릿 선택, 후보 입력
- **QR 코드 화면**: 생성된 QR 코드
- **투표 참여 화면**: 후보 선택, ZKP 증명 생성 중
- **영수증 화면**: 트랜잭션 해시, Public Signals
- **Etherscan 화면**: VoteCast 이벤트 (Decoded)
- **실시간 결과 차트**: 후보별 득표수 및 비율

### 3. 시연 체크리스트

- [ ] 투표 생성 성공
- [ ] QR 코드 표시
- [ ] MetaMask 연결 성공
- [ ] ZKP 증명 생성 완료 (15초)
- [ ] 트랜잭션 성공 (2회 컨펌)
- [ ] Etherscan에서 VoteCast 이벤트 확인
- [ ] 재투표 시 isUpdate: True 확인
- [ ] 실시간 결과 반영 확인

### 4. 아이콘/이모지

- 🔒 보안
- 🎭 익명성
- ⛓️ 블록체인
- ✅ 검증
- 🔄 재투표
- 📱 QR 코드
- ⚡ ZKP 증명

---

## ❓ 예상 질문 및 답변

### Q1: "ZKP 증명 생성이 15초나 걸리는데, 사용자 경험이 좋지 않지 않나요?"

**A**:

- Web Worker로 비동기 처리하여 UI가 멈추지 않습니다
- 진행 상태를 실시간으로 표시하여 사용자가 대기 중임을 알 수 있습니다
- 향후 서버 오프로딩 옵션 추가 예정입니다

### Q2: "블록체인에 기록하는데 가스비가 들지 않나요?"

**A**:

- 현재는 Sepolia 테스트넷 사용 (무료)
- Relayer가 가스비를 대납하여 사용자는 무료입니다
- 프로덕션에서는 Layer 2 (Polygon, Arbitrum) 사용으로 비용 절감 가능합니다

### Q3: "한 사람이 여러 지갑을 만들어서 중복 투표할 수 있지 않나요?"

**A**:

- 현재는 Open Poll 방식이라 가능합니다
- 향후 Closed Poll 지원으로 화이트리스트 기반 신원 검증 추가 예정입니다
- 소규모 선거에서는 사전 지갑 주소 수집으로 해결 가능합니다

### Q4: "Etherscan에서 투표 내용을 볼 수 있지 않나요?"

**A**:

- `candidate` 필드는 숫자로만 표시됩니다 (예: 0, 1, 2)
- 실제 후보 이름은 블록체인에 기록되지 않습니다
- 후보 이름은 DB에만 저장되며, 블록체인과 연결되지 않습니다

### Q5: "재투표 시 이전 투표는 어떻게 되나요?"

**A**:

- 마감 시간 전까지 재투표 가능합니다
- 마지막 투표만 유효하며, 이전 투표는 자동으로 무효화됩니다
- Etherscan에서 `isUpdate: True`로 확인 가능합니다
- 총 투표 수는 증가하지 않습니다 (재투표이므로)

### Q6: "DB가 다운되면 투표가 불가능한가요?"

**A**:

- 투표는 블록체인에 직접 기록되므로 DB 없이도 가능합니다
- DB는 캐시 및 집계용으로만 사용됩니다
- DB 다운 시 Etherscan에서 직접 재집계 가능합니다

---

## ✅ 발표 전 체크리스트

### 환경 준비

- [ ] Vercel 배포 완료 또는 로컬 서버 실행 가능
- [ ] MetaMask 설치 및 Sepolia 네트워크 설정
- [ ] Sepolia 테스트넷 ETH 보유 (Relayer용)
- [ ] 인터넷 연결 안정적

### 시연 준비

- [ ] 투표 생성 테스트 완료
- [ ] ZKP 증명 생성 테스트 완료 (15초 소요 확인)
- [ ] Etherscan 링크 준비 (이전 투표 트랜잭션)
- [ ] 재투표 테스트 완료
- [ ] 실시간 결과 확인 테스트 완료

### PPT 준비

- [ ] 15개 슬라이드 완성
- [ ] 스크린샷 포함 (투표 생성, QR 코드, 영수증, Etherscan)
- [ ] 다이어그램 포함 (시스템 아키텍처, ZKP 플로우)
- [ ] 비교표 포함

### 발표 연습

- [ ] 15분 내 발표 가능한지 확인
- [ ] 시연 5분 내 완료 가능한지 확인
- [ ] 예상 질문 답변 준비

---

## ⏱️ 시간 배분 (15분 발표 기준)

- 표지: 30초
- 문제 제기: 2분
- 솔루션 소개: 2분
- 기술 스택: 1분
- 핵심 기능 시연: 5분 (가장 중요!)
- 보안 및 검증: 2분
- 성과 및 차별화: 1분
- 마무리 및 Q&A: 1.5분

---

## 🎯 핵심 메시지 (반복 강조)

1. **"운영자를 믿지 않아도 됩니다"**

   - 블록체인에 기록되어 조작 불가능
   - Etherscan에서 누구나 검증 가능

2. **"완전한 익명성이 보장됩니다"**

   - ZKP로 투표 내용 비공개
   - 서버도 모름

3. **"수학적으로 보장됩니다"**

   - 증명 시스템으로 검증
   - 조작 불가능

4. **"재투표 가능, 마지막 표만 유효"**
   - 마감 시간 전까지 재투표 가능
   - 마지막 투표만 집계

---

## 📚 참고 자료

- [README.md](../README.md): 프로젝트 전체 개요
- [docs/ARCHITECTURE.md](ARCHITECTURE.md): 시스템 아키텍처 상세
- [docs/zkp/zkp-spec-v1.2.md](zkp/zkp-spec-v1.2.md): ZKP 기술 스펙
- [docs/REVOTE_VERIFICATION_GUIDE.md](REVOTE_VERIFICATION_GUIDE.md): 재투표 확인 가이드
- [Etherscan](https://sepolia.etherscan.io): 블록체인 검증

---

**마지막 업데이트**: 2024년
